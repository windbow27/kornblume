import{d as w,i as r,c as a,a as e,t as s,f as h,u as k,T as x,U as $,V as j,v as S,W as C,o as l}from"./index-l3dbUXb4.js";import{G as n,s as D}from"./gApi-Dme7HZtz.js";const I={class:"container"},T={class:"pb-6"},G={class:"text-2xl text-white font-bold mb-2 lg:mb-4"},F={class:"text-white"},K={class:"flex justify-center items-center p-2 space-x-5"},V={class:"pb-6"},A={class:"text-2xl text-white font-bold mb-2 lg:mb-4"},B={class:"text-white"},E={class:"flex justify-center items-center p-2 space-x-5"},N=["disabled"],O=e("i",{class:"fa-brands fa-google-drive"},null,-1),M={key:1,class:"flex flex-col justify-center items-center"},P=["disabled"],R=e("i",{class:"fa-brands fa-google-drive"},null,-1),z={key:0,class:"text-white opacity-90 mt-2"},J={class:"flex space-x-1 items-center"},U=e("p",{class:"text-success text-base"},"•",-1),W={class:"text-white text-sm opacity-90"},q={class:"pb-6"},H={class:"text-2xl text-white font-bold mb-2 lg:mb-4"},L={class:"text-white"},Q={class:"flex flex-wrap justify-center items-center p-2 space-x-5 gap-y-5"},X={onclick:"resetTracker.showModal()",class:"red-button"},Y={onclick:"resetAll.showModal()",class:"red-button"},Z={id:"resetTracker",class:"modal"},ee={class:"modal-box custom-border custom-gradient-gray-blue flex flex-col justify-center items-center"},te=e("form",{method:"dialog"},[e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2 text-white"},"✕")],-1),se={class:"pb-4 text-white text-center"},oe={class:"pb-4 text-white text-center"},ne=e("form",{method:"dialog",class:"modal-backdrop"},[e("button",null,"close")],-1),ae={id:"resetAll",class:"modal"},le={class:"modal-box custom-border custom-gradient-gray-blue flex flex-col justify-center items-center"},ie=e("form",{method:"dialog"},[e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2 text-white"},"✕")],-1),ce={class:"pb-4 text-white text-center"},re={class:"pb-4 text-white text-center"},de=e("form",{method:"dialog",class:"modal-backdrop"},[e("button",null," close ")],-1),me=w({__name:"ProfileView",setup(ue){const u=r(null),d=r(!1),i=r(!1),b=r(!1),m=()=>{x()},p=()=>{u.value.click()},f=t=>{const o=t.target.files[0];o&&$(o)},g=()=>{j()},_=()=>{S().reset(),window.location.reload()},y=async()=>{await n.signIn(),i.value=!0;const o=(await n.getFiles()).find(c=>c.name==="kornblume.json");if(!o)await n.createFile("kornblume.json",JSON.stringify(localStorage)),console.log("kornblume.json created");else{console.log("kornblume.json exists. importing data...");const c=await n.downloadFile(o.id);C(c),setTimeout(()=>window.location.reload())}},v=()=>{n.signOut(),i.value=!1};return n.init().then(async()=>{d.value=!0,i.value=await n.isSignedIn(),D()}),(t,o)=>(l(),a("div",I,[e("div",T,[e("h2",G,s(t.$t("profile")),1),e("p",F,s(t.$t("you-can-export-or-import-your-data-here")),1),e("div",K,[e("button",{onClick:m,class:"blue-button"},s(t.$t("export-data")),1),e("input",{type:"file",ref_key:"fileInput",ref:u,onChange:f,accept:".json",class:"ml-4",style:{display:"none"}},null,544),e("button",{onClick:p,class:"green-button"},s(t.$t("import-data")),1)])]),e("div",V,[e("h2",A,s(t.$t("google-drive-save")),1),e("p",B,s(t.$t("you-can-use-google-drive-and-let-kornblume-save-and-sync-data-between-devices-we-only-read-and-write-files-that-kornblume-created")),1),e("div",E,[i.value?(l(),a("div",M,[e("button",{disabled:!d.value,class:"blue-button",onClick:v},[h(s(t.$t("sign-out-google-drive"))+" ",1),R],8,P),b.value?(l(),a("div",z,[e("p",null,s(k(n).getEmail()),1)])):(l(),a("button",{key:1,onClick:o[0]||(o[0]=c=>b.value=!0),class:"btn btn-ghost btn-sm mt-2 text-white/90 opacity-90"},s(t.$t("click-to-show-email")),1)),e("div",J,[U,e("p",W,s(t.$t("synced")),1)])])):(l(),a("button",{key:0,disabled:!d.value,class:"green-button",onClick:y},[h(s(t.$t("login-google-drive"))+" ",1),O],8,N))])]),e("div",q,[e("h2",H,s(t.$t("danger-zone")),1),e("p",L,s(t.$t("if-you-encounter-any-unexpected-issues-with-the-site-you-can-reset-your-data-sorry-for-the-inconvenience")),1),e("div",Q,[e("button",X,s(t.$t("reset-tracker")),1),e("button",Y,s(t.$t("reset-data")),1)]),e("dialog",Z,[e("div",ee,[te,e("p",se,s(t.$t("once-you-delete-your-summon-tracker-data-there-is-no-going-back")),1),e("p",oe,s(t.$t("please-be-certain")),1),e("button",{onClick:_,class:"red-button"},s(t.$t("reset-tracker")),1)]),ne]),e("dialog",ae,[e("div",le,[ie,e("p",ce,s(t.$t("once-you-delete-your-data-there-is-no-going-back")),1),e("p",re,s(t.$t("please-be-certain")),1),e("button",{onClick:g,class:"red-button"},s(t.$t("reset-all")),1)]),de])])]))}});export{me as default};
