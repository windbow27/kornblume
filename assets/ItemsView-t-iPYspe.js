import{d as k,s as w,o,c as u,a as e,D,E as L,i as y,b as A,j as q,t as f,q as I,B as x,f as F,u as V,l as M,F as b,r as $,g as C,C as N,x as z,y as O,w as S,G as P,H as Q,_ as E}from"./index-EUZzmIOG.js";import{b as G,_ as T,f as H,s as j}from"./MaterialIcon.vue_vue_type_script_setup_true_lang-8cgVmTqo.js";import{c as U}from"./images-jjUt160i.js";import{f as B}from"./arcanists-ojMFOwHm.js";import{_ as J}from"./ArcanistIconDisplay.vue_vue_type_script_setup_true_lang-GOYfy7sQ.js";import{n as K}from"./stages-J8EDzyI8.js";import{t as W}from"./tippy-2wRAklq1.js";const X=["data-tip"],Y={class:"transform transition-transform duration-500 overflow-hidden relative"},Z=["src"],ee=["src"],te=e("div",{class:"overlay absolute inset-0 bg-gray-500 opacity-0 group-hover:opacity-50 transition-opacity duration-300"},null,-1),se=k({__name:"MaterialSelectionIcon",props:{material:{type:Object,required:!0}},setup(c){const t=c,h=w(()=>G(t.material));return(g,p)=>(o(),u("div",{class:"tooltip relative overflow-hidden group cursor-pointer","data-tip":g.$t(h.value.material)},[e("div",Y,[e("img",{src:h.value.itemImagePath,alt:"Material Image",class:"w-20 h-20 absolute transform transition-transform duration-300 group-hover:scale-125"},null,8,Z),e("img",{src:h.value.borderImagePath,alt:"Border Image",class:"w-20 h-20"},null,8,ee),te])],8,X))}}),ae=["src"],re={class:"absolute text-white bottom-0.5 right-0.5 rounded bg-gray-700 rounded-tl px-1 py-px text-xs max-w-[7.775rem] lg:max-w-[9.775rem] whitespace-nowrap overflow-hidden overflow-ellipsis"},le={class:"absolute text-white top-0.5 left-0.5 bg-gray-700 rounded px-1 py-px text-xs"},oe=k({__name:"StageIcon",props:{selectedStage:{type:Object,required:!0},stageName:{type:String,required:!0},dropRate:{type:String,required:!0}},setup(c){const t=c,h=D(),g=L(),p=y(null),{t:m}=A(),i=()=>K(t.selectedStage,t.stageName),_=()=>{h.setSelectedStage(t.selectedStage),g.push("/stages")};return q(()=>{W(p.value,{content:m(i().stage),theme:"daisyui"})}),(l,n)=>(o(),u("div",{onClick:_,class:"cursor-pointer"},[e("div",{ref_key:"tooltip",ref:p,class:"relative inline-block"},[e("img",{src:i().stageImagePath,alt:"Border Image",class:"w-32 lg:w-40 rounded"},null,8,ae),e("div",re,f(l.$t(i().stage)),1),e("div",le,f(c.dropRate),1)],512)]))}}),ie={key:0,class:"custom-box custom-border"},ne={class:"space-y-1"},ce={class:"text-white text-2xl font-bold py-1"},de=e("i",{class:"fa-solid fa-star"},null,-1),ue={class:"flex flex-col justify-center items-center"},me=["src"],pe={class:"text-white text-center"},fe={key:1,class:"custom-box custom-border space-y-2.5"},he={class:"text-white"},ge={class:"flex flex-wrap gap-x-2 gap-y-1 items-center justify-center"},ve={key:2,class:"custom-box custom-border space-y-2.5"},_e={class:"text-white"},ye={class:"custom-item-list max-h-[calc(33vh)]"},xe={key:3,class:"custom-box custom-border space-y-2.5"},be={class:"text-white"},$e={class:"custom-item-list gap-x-2 gap-y-1 max-h-[calc(33vh)]"},Me=k({__name:"MaterialDisplay",props:{selectedMaterial:{type:Object,required:!0},categories:{type:Array,required:!0}},setup(c){const t=c,h=I().formulas,g=I().arcanists,p=I().stages1_4,m=w(()=>{const l=h.find(n=>n.Name===t.selectedMaterial.Name);return l?l.Material.map((n,a)=>({Material:n,Quantity:l.Quantity[a]})):[]}),i=w(()=>{if(t.selectedMaterial.Name==="Dust")return B(g);let l=g.filter(n=>n.Insight.some(a=>a.Material.includes(t.selectedMaterial.Name))||n.Resonance.some(a=>a.Material.includes(t.selectedMaterial.Name)));return l=B(l),l}),_=w(()=>Object.entries(p).filter(([,n])=>t.selectedMaterial.Name in n.drops).map(([n,a])=>({name:n,stage:a,dropRate:a.drops[t.selectedMaterial.Name]/a.count})).sort((n,a)=>a.dropRate-n.dropRate).map(n=>({...n,dropRate:H(n.dropRate)})));return(l,n)=>(o(),u(b,null,[t.selectedMaterial?(o(),u("div",ie,[e("div",ne,[e("h2",ce,f(l.$t(t.selectedMaterial.Name)),1),e("p",{class:x(["",{"text-error":t.selectedMaterial.Category===c.categories[0],"text-info":t.selectedMaterial.Category===c.categories[1],"text-success":t.selectedMaterial.Category===c.categories[2],"text-warning":t.selectedMaterial.Category===c.categories[3],"text-secondary":t.selectedMaterial.Category===c.categories[4]}])},f(l.$t(t.selectedMaterial.Category)),3),e("p",{class:x(["",{"text-orange-300":t.selectedMaterial.Rarity===6,"text-yellow-100":t.selectedMaterial.Rarity===5,"text-purple-400":t.selectedMaterial.Rarity===4,"text-sky-200":t.selectedMaterial.Rarity===3,"text-green-200":t.selectedMaterial.Rarity===2}])},[F(f(t.selectedMaterial.Rarity)+" ",1),de],2),e("div",ue,[e("img",{src:V(U)(t.selectedMaterial.Name),alt:"Material Image",class:"w-32 h-32"},null,8,me),e("p",pe,f(t.selectedMaterial.Description),1)])])])):M("",!0),m.value.length>0?(o(),u("div",fe,[e("h2",he,f(l.$t("wishing-spring-formula")),1),e("div",ge,[(o(!0),u(b,null,$(m.value,a=>(o(),u("div",{key:a.Material,class:"flex flex-wrap gap-x-2 gap-y-2"},[C(T,{material:a},null,8,["material"])]))),128))])])):M("",!0),_.value.length>0?(o(),u("div",ve,[e("h2",_e,f(l.$t("obtained-from-the-following-stages")),1),e("div",ye,[(o(!0),u(b,null,$(_.value,a=>(o(),N(oe,{key:a.name,selectedStage:a.stage,stageName:a.name,dropRate:a.dropRate,class:"px-2 py-1"},null,8,["selectedStage","stageName","dropRate"]))),128))])])):M("",!0),i.value.length>0?(o(),u("div",xe,[e("h2",be,f(l.$t("used-by-the-following-arcanists")),1),e("div",$e,[(o(!0),u(b,null,$(i.value,a=>(o(),N(J,{key:a.Name,arcanist:a},null,8,["arcanist"]))),128))])])):M("",!0)],64))}}),we={class:"flex gap-y-2 items-center"},ke=["placeholder"],Ie=["data-tip"],Ce=e("button",{class:"btn btn-ghost text-white"},[e("i",{class:"fa-solid fa-filter"})],-1),Ne=[Ce],Re={class:"flex justify-center space-x-2 pb-2"},Se=["onClick"],je={class:"flex flex-col justify-center flex-wrap gap-x-2 gap-y-1"},Be={class:"grid grid-cols-2 gap-x-2 gap-y-1"},De=["onClick"],qe={class:"flex justify-center"},Ve=k({__name:"MaterialFilter",props:{listItems:{type:Array,required:!0},categories:{type:Array,required:!0}},emits:["filtered"],setup(c,{emit:t}){const h=c,g=t,p=y(""),m=y([]),i=y([]),_=s=>{m.value.includes(s)?m.value=m.value.filter(d=>d!==s):m.value.push(s)},l=s=>{i.value.includes(s)?i.value=i.value.filter(d=>d!==s):i.value.push(s)},n=w(()=>{let s=h.listItems;return p.value.length>0&&(s=s.filter(d=>d.Name.toLowerCase().includes(p.value.toLowerCase()))),m.value.length>0&&(s=s.filter(d=>m.value.includes(d.Rarity))),i.value.length>0&&(s=s.filter(d=>i.value.includes(d.Category))),s}),a=()=>{g("filtered",n.value)};return(s,d)=>(o(),u("div",we,[z(e("input",{"onUpdate:modelValue":d[0]||(d[0]=r=>p.value=r),type:"text",placeholder:s.$t("search-by-name"),onInput:a,class:"input input-sm lg:w-auto bg-gray-800 text-white p-2 rounded-md focus:outline-none"},null,40,ke),[[O,p.value]]),C(V(P),{arrow:"",placement:"bottom",offsetDistance:"2"},{content:S(()=>[e("div",Re,[(o(),u(b,null,$([2,3,4,5,6],r=>e("button",{key:r,class:x([{"border-2 border-info":m.value.includes(r),"border-2 border-transparent":!m.value.includes(r)},"p-2 rounded-md"]),onClick:v=>{_(r),a()}},[e("i",{class:x(["fa-solid fa-star",{"text-orange-300":r===6,"text-yellow-100":r===5,"text-purple-400":r===4,"text-sky-200":r===3,"text-green-200":r===2}])},null,2)],10,Se)),64))]),e("div",je,[e("div",Be,[(o(!0),u(b,null,$(c.categories.slice(0,-1),(r,v)=>(o(),u("button",{key:r,class:x([[{"border-2 border-info":i.value.includes(r),"border-2 border-transparent":!i.value.includes(r)},{"text-error":v===0,"text-info":v===1,"text-success":v===2,"text-warning":v===3,"text-secondary":v===4}],"p-2 rounded-md text-sm"]),onClick:R=>{l(r),a()}},f(s.$t(r)),11,De))),128))]),e("div",qe,[c.categories.length>0?(o(),u("button",{key:c.categories[4],class:x([[{"border-2 border-info":i.value.includes(c.categories[4]),"border-2 border-transparent":!i.value.includes(c.categories[4])}],"w-40 p-2 rounded-md text-sm text-secondary"]),onClick:d[1]||(d[1]=r=>{l(c.categories[4]),a()})},f(s.$t(c.categories[4])),3)):M("",!0)])])]),default:S(()=>[e("div",{class:"tooltip","data-tip":s.$t("filter")},Ne,8,Ie)]),_:1})]))}}),Le={class:"responsive-spacer"},Ae={class:"flex pb-4"},Fe={class:"text-2xl text-white font-bold"},ze={class:"wrapper"},Oe={class:"container"},Pe={class:"card custom-border"},Qe={class:"flex flex-wrap justify-center sm:justify-between pl-2 gap-y-2"},Ee={class:"flex flex-wrap justify-center space-x-2 gap-y-2 py-1.5"},Ge=["onClick","disabled"],Te={class:"card custom-border h-[calc(40vh)] lg:h-[calc(66vh)]"},He={key:0,class:"custom-item-list"},Ue={class:"container"},Je=k({__name:"ItemsView",setup(c){const t=["Base Item","Build Material","Insight Material","Resonate Material","Ascension Material"],h=["Materials"],g=y(h[0]),p=I().items,m=y([]),i=y([]),_=D(),l=y(),n=s=>{l.value=s},a=s=>{i.value=s};return Q(()=>{const s=p.find(d=>d.Name===_.selectedMaterial.Material);l.value=s||p.find(d=>d.Name==="Crystal Drop"),m.value=p.filter(d=>d.IsReleased),j(m.value,t)}),q(()=>{i.value=p.filter(s=>s.IsReleased),j(i.value,t)}),(s,d)=>(o(),u("div",Le,[e("div",Ae,[e("h2",Fe,f(s.$t("items")),1)]),e("div",ze,[e("div",Oe,[e("div",Pe,[e("div",Qe,[e("div",Ee,[(o(),u(b,null,$(h,(r,v)=>e("button",{key:v,onClick:R=>g.value=r,class:x(["hover:bg-info rounded-md text-white py-1 px-3",g.value===r?"border-button":""]),disabled:v!==0},f(s.$t(r)),11,Ge)),64))]),C(Ve,{listItems:m.value,categories:t,onFiltered:a},null,8,["listItems"])])]),e("div",Te,[g.value==="Materials"?(o(),u("div",He,[(o(!0),u(b,null,$(i.value,r=>{var v;return o(),N(se,{key:r.Id,material:r,onClick:R=>n(r),class:x(((v=l.value)==null?void 0:v.Name)===r.Name?"custom-border-white":"custom-border-transparent")},null,8,["material","onClick","class"])}),128))])):M("",!0)])]),e("div",Ue,[C(Me,{selectedMaterial:l.value||{},categories:t},null,8,["selectedMaterial"])])])]))}}),st=E(Je,[["__scopeId","data-v-873fba6e"]]);export{st as default};
