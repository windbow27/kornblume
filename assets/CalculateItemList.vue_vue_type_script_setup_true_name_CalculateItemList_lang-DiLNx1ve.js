import{o as G}from"./index-DVUWZbzi.js";import{q as N,E as V,d as E,i as w,k as P,D as O,w as T,u as z,o as f,a as _,c as m,r as j,F as b,f as H,t as A,H as K,s as $,C as q,a6 as U}from"./index-DA8Z3MMX.js";import{_ as W}from"./MaterialIcon.vue_vue_type_script_setup_true_lang-BbOiDO6k.js";const It=["Sinuous Howl","Interlaced Shudder","Hypocritical Murmur","Hoarse Echo"],J=[{Rarity:[5,6],Insight:0,Levels:{2:{Dust:100,Sharpodonty:100},3:{Dust:150,Sharpodonty:130},4:{Dust:200,Sharpodonty:160},5:{Dust:250,Sharpodonty:190},6:{Dust:350,Sharpodonty:220},7:{Dust:400,Sharpodonty:250},8:{Dust:450,Sharpodonty:280},9:{Dust:500,Sharpodonty:310},10:{Dust:550,Sharpodonty:340},11:{Dust:600,Sharpodonty:370},12:{Dust:650,Sharpodonty:400},13:{Dust:700,Sharpodonty:430},14:{Dust:750,Sharpodonty:460},15:{Dust:800,Sharpodonty:490},16:{Dust:850,Sharpodonty:520},17:{Dust:900,Sharpodonty:550},18:{Dust:950,Sharpodonty:580},19:{Dust:1e3,Sharpodonty:610},20:{Dust:1050,Sharpodonty:640},21:{Dust:1200,Sharpodonty:670},22:{Dust:1300,Sharpodonty:700},23:{Dust:1400,Sharpodonty:730},24:{Dust:1500,Sharpodonty:760},25:{Dust:1600,Sharpodonty:790},26:{Dust:1700,Sharpodonty:820},27:{Dust:1800,Sharpodonty:850},28:{Dust:1900,Sharpodonty:880},29:{Dust:2e3,Sharpodonty:910},30:{Dust:2100,Sharpodonty:940}},Total:{Dust:27700,Sharpodonty:15080}},{Rarity:[5,6],Insight:1,Levels:{2:{Dust:400,Sharpodonty:200},3:{Dust:500,Sharpodonty:250},4:{Dust:600,Sharpodonty:300},5:{Dust:700,Sharpodonty:350},6:{Dust:900,Sharpodonty:400},7:{Dust:1e3,Sharpodonty:450},8:{Dust:1100,Sharpodonty:500},9:{Dust:1200,Sharpodonty:550},10:{Dust:1300,Sharpodonty:600},11:{Dust:1500,Sharpodonty:650},12:{Dust:1600,Sharpodonty:700},13:{Dust:1700,Sharpodonty:750},14:{Dust:1800,Sharpodonty:800},15:{Dust:1900,Sharpodonty:850},16:{Dust:2100,Sharpodonty:900},17:{Dust:2200,Sharpodonty:950},18:{Dust:2300,Sharpodonty:1e3},19:{Dust:2400,Sharpodonty:1050},20:{Dust:2500,Sharpodonty:1100},21:{Dust:2600,Sharpodonty:1150},22:{Dust:2700,Sharpodonty:1200},23:{Dust:2800,Sharpodonty:1250},24:{Dust:2900,Sharpodonty:1300},25:{Dust:3e3,Sharpodonty:1350},26:{Dust:3100,Sharpodonty:1400},27:{Dust:3200,Sharpodonty:1450},28:{Dust:3300,Sharpodonty:1500},29:{Dust:3400,Sharpodonty:1550},30:{Dust:3500,Sharpodonty:1600},31:{Dust:3700,Sharpodonty:1800},32:{Dust:3800,Sharpodonty:2e3},33:{Dust:3900,Sharpodonty:2200},34:{Dust:4e3,Sharpodonty:2400},35:{Dust:4100,Sharpodonty:2600},36:{Dust:4300,Sharpodonty:2800},37:{Dust:4400,Sharpodonty:3e3},38:{Dust:4500,Sharpodonty:3200},39:{Dust:4600,Sharpodonty:3400},40:{Dust:4700,Sharpodonty:3600}},Total:{Dust:100200,Sharpodonty:53100}},{Rarity:[5,6],Insight:2,Levels:{2:{Dust:1100,Sharpodonty:400},3:{Dust:1400,Sharpodonty:500},4:{Dust:1700,Sharpodonty:600},5:{Dust:2e3,Sharpodonty:700},6:{Dust:2300,Sharpodonty:800},7:{Dust:2600,Sharpodonty:900},8:{Dust:2900,Sharpodonty:1e3},9:{Dust:3200,Sharpodonty:1100},10:{Dust:3500,Sharpodonty:1200},11:{Dust:3800,Sharpodonty:1300},12:{Dust:4100,Sharpodonty:1400},13:{Dust:4400,Sharpodonty:1500},14:{Dust:4700,Sharpodonty:1600},15:{Dust:5e3,Sharpodonty:1700},16:{Dust:5300,Sharpodonty:1800},17:{Dust:5600,Sharpodonty:1900},18:{Dust:5900,Sharpodonty:2e3},19:{Dust:6200,Sharpodonty:2100},20:{Dust:6500,Sharpodonty:2200},21:{Dust:6800,Sharpodonty:2300},22:{Dust:7100,Sharpodonty:2400},23:{Dust:7400,Sharpodonty:2500},24:{Dust:7700,Sharpodonty:2600},25:{Dust:8e3,Sharpodonty:2700},26:{Dust:8300,Sharpodonty:2800},27:{Dust:8600,Sharpodonty:2900},28:{Dust:8900,Sharpodonty:3e3},29:{Dust:9200,Sharpodonty:3100},30:{Dust:9500,Sharpodonty:3200},31:{Dust:9800,Sharpodonty:3300},32:{Dust:10100,Sharpodonty:3400},33:{Dust:10400,Sharpodonty:3500},34:{Dust:10700,Sharpodonty:3600},35:{Dust:11e3,Sharpodonty:3700},36:{Dust:11300,Sharpodonty:3800},37:{Dust:11600,Sharpodonty:3900},38:{Dust:11900,Sharpodonty:4e3},39:{Dust:12200,Sharpodonty:4100},40:{Dust:12500,Sharpodonty:4200},41:{Dust:12800,Sharpodonty:4300},42:{Dust:13100,Sharpodonty:4400},43:{Dust:13400,Sharpodonty:4500},44:{Dust:13700,Sharpodonty:4600},45:{Dust:14e3,Sharpodonty:4700},46:{Dust:14300,Sharpodonty:4800},47:{Dust:14600,Sharpodonty:4900},48:{Dust:14900,Sharpodonty:5e3},49:{Dust:15200,Sharpodonty:5100},50:{Dust:15500,Sharpodonty:5200}},Total:{Dust:406700,Sharpodonty:137200}},{Rarity:[5,6],Insight:3,Levels:{2:{Dust:5640,Sharpodonty:2500},3:{Dust:5760,Sharpodonty:2600},4:{Dust:5880,Sharpodonty:2700},5:{Dust:6e3,Sharpodonty:2800},6:{Dust:6240,Sharpodonty:2900},7:{Dust:6380,Sharpodonty:3e3},8:{Dust:6520,Sharpodonty:3100},9:{Dust:6660,Sharpodonty:3200},10:{Dust:6800,Sharpodonty:3300},11:{Dust:7160,Sharpodonty:3400},12:{Dust:7320,Sharpodonty:3500},13:{Dust:7480,Sharpodonty:3600},14:{Dust:7640,Sharpodonty:3700},15:{Dust:7800,Sharpodonty:3800},16:{Dust:8280,Sharpodonty:3900},17:{Dust:8460,Sharpodonty:4e3},18:{Dust:8640,Sharpodonty:4100},19:{Dust:8820,Sharpodonty:4200},20:{Dust:9e3,Sharpodonty:4300},21:{Dust:9600,Sharpodonty:4500},22:{Dust:9800,Sharpodonty:4700},23:{Dust:1e4,Sharpodonty:4900},24:{Dust:10200,Sharpodonty:5100},25:{Dust:10400,Sharpodonty:5300},26:{Dust:11100,Sharpodonty:5500},27:{Dust:11300,Sharpodonty:5700},28:{Dust:11600,Sharpodonty:5900},29:{Dust:11800,Sharpodonty:6100},30:{Dust:12e3,Sharpodonty:6300},31:{Dust:12800,Sharpodonty:6500},32:{Dust:13100,Sharpodonty:6700},33:{Dust:13300,Sharpodonty:6900},34:{Dust:13600,Sharpodonty:7100},35:{Dust:13800,Sharpodonty:7300},36:{Dust:14800,Sharpodonty:7500},37:{Dust:15e3,Sharpodonty:7700},38:{Dust:15300,Sharpodonty:7900},39:{Dust:15500,Sharpodonty:8100},40:{Dust:15800,Sharpodonty:8300},41:{Dust:16900,Sharpodonty:8500},42:{Dust:17200,Sharpodonty:8700},43:{Dust:17400,Sharpodonty:8900},44:{Dust:17700,Sharpodonty:9100},45:{Dust:18e3,Sharpodonty:9300},46:{Dust:19200,Sharpodonty:9500},47:{Dust:19500,Sharpodonty:9700},48:{Dust:19800,Sharpodonty:9900},49:{Dust:20100,Sharpodonty:10100},50:{Dust:20400,Sharpodonty:10300},51:{Dust:21700,Sharpodonty:10500},52:{Dust:22e3,Sharpodonty:10700},53:{Dust:22400,Sharpodonty:10900},54:{Dust:22700,Sharpodonty:11100},55:{Dust:23e3,Sharpodonty:11300},56:{Dust:24400,Sharpodonty:11500},57:{Dust:24800,Sharpodonty:11700},58:{Dust:25100,Sharpodonty:11900},59:{Dust:25500,Sharpodonty:12100},60:{Dust:25800,Sharpodonty:12300}},Total:{Dust:810880,Sharpodonty:400600}},{Rarity:[4],Insight:0,Levels:{2:{Dust:70,Sharpodonty:70},3:{Dust:110,Sharpodonty:90},4:{Dust:150,Sharpodonty:120},5:{Dust:180,Sharpodonty:140},6:{Dust:260,Sharpodonty:160},7:{Dust:300,Sharpodonty:180},8:{Dust:330,Sharpodonty:210},9:{Dust:370,Sharpodonty:230},10:{Dust:410,Sharpodonty:250},11:{Dust:450,Sharpodonty:270},12:{Dust:480,Sharpodonty:300},13:{Dust:520,Sharpodonty:320},14:{Dust:560,Sharpodonty:340},15:{Dust:600,Sharpodonty:360},16:{Dust:630,Sharpodonty:390},17:{Dust:670,Sharpodonty:410},18:{Dust:710,Sharpodonty:430},19:{Dust:750,Sharpodonty:450},20:{Dust:780,Sharpodonty:480},21:{Dust:900,Sharpodonty:500},22:{Dust:970,Sharpodonty:520},23:{Dust:1050,Sharpodonty:540},24:{Dust:1120,Sharpodonty:570},25:{Dust:1200,Sharpodonty:590},26:{Dust:1270,Sharpodonty:610},27:{Dust:1350,Sharpodonty:630},28:{Dust:1420,Sharpodonty:660},29:{Dust:1500,Sharpodonty:680},30:{Dust:1570,Sharpodonty:700}},Total:{Dust:20680,Sharpodonty:11200}},{Rarity:[4],Insight:1,Levels:{2:{Dust:300,Sharpodonty:150},3:{Dust:370,Sharpodonty:180},4:{Dust:450,Sharpodonty:220},5:{Dust:520,Sharpodonty:260},6:{Dust:670,Sharpodonty:300},7:{Dust:750,Sharpodonty:330},8:{Dust:820,Sharpodonty:370},9:{Dust:900,Sharpodonty:410},10:{Dust:970,Sharpodonty:450},11:{Dust:1120,Sharpodonty:480},12:{Dust:1200,Sharpodonty:520},13:{Dust:1270,Sharpodonty:560},14:{Dust:1350,Sharpodonty:600},15:{Dust:1420,Sharpodonty:630},16:{Dust:1570,Sharpodonty:670},17:{Dust:1650,Sharpodonty:710},18:{Dust:1720,Sharpodonty:750},19:{Dust:1800,Sharpodonty:780},20:{Dust:1870,Sharpodonty:820},21:{Dust:1950,Sharpodonty:860},22:{Dust:2020,Sharpodonty:900},23:{Dust:2100,Sharpodonty:930},24:{Dust:2170,Sharpodonty:970},25:{Dust:2250,Sharpodonty:1010},26:{Dust:2320,Sharpodonty:1050},27:{Dust:2400,Sharpodonty:1080},28:{Dust:2470,Sharpodonty:1120},29:{Dust:2550,Sharpodonty:1160},30:{Dust:2620,Sharpodonty:1200},31:{Dust:2770,Sharpodonty:1350},32:{Dust:2850,Sharpodonty:1500},33:{Dust:2920,Sharpodonty:1650},34:{Dust:3e3,Sharpodonty:1800},35:{Dust:3070,Sharpodonty:1950},36:{Dust:3220,Sharpodonty:2100},37:{Dust:3300,Sharpodonty:2250},38:{Dust:3370,Sharpodonty:2400},39:{Dust:3450,Sharpodonty:2550},40:{Dust:3520,Sharpodonty:2700}},Total:{Dust:75040,Sharpodonty:39720}},{Rarity:[4],Insight:2,Levels:{2:{Dust:820,Sharpodonty:300},3:{Dust:1050,Sharpodonty:370},4:{Dust:1270,Sharpodonty:450},5:{Dust:1500,Sharpodonty:520},6:{Dust:1720,Sharpodonty:600},7:{Dust:1950,Sharpodonty:670},8:{Dust:2170,Sharpodonty:750},9:{Dust:2400,Sharpodonty:820},10:{Dust:2620,Sharpodonty:900},11:{Dust:2850,Sharpodonty:970},12:{Dust:3070,Sharpodonty:1050},13:{Dust:3300,Sharpodonty:1120},14:{Dust:3520,Sharpodonty:1200},15:{Dust:3750,Sharpodonty:1270},16:{Dust:3970,Sharpodonty:1350},17:{Dust:4200,Sharpodonty:1420},18:{Dust:4420,Sharpodonty:1500},19:{Dust:4650,Sharpodonty:1570},20:{Dust:4870,Sharpodonty:1650},21:{Dust:5100,Sharpodonty:1720},22:{Dust:5320,Sharpodonty:1800},23:{Dust:5550,Sharpodonty:1870},24:{Dust:5770,Sharpodonty:1950},25:{Dust:6e3,Sharpodonty:2020},26:{Dust:6220,Sharpodonty:2100},27:{Dust:6450,Sharpodonty:2170},28:{Dust:6670,Sharpodonty:2250},29:{Dust:6900,Sharpodonty:2320},30:{Dust:7120,Sharpodonty:2400},31:{Dust:7350,Sharpodonty:2470},32:{Dust:7570,Sharpodonty:2550},33:{Dust:7800,Sharpodonty:2620},34:{Dust:8020,Sharpodonty:2700},35:{Dust:8250,Sharpodonty:2770},36:{Dust:8470,Sharpodonty:2850},37:{Dust:8700,Sharpodonty:2920},38:{Dust:8920,Sharpodonty:3e3},39:{Dust:9150,Sharpodonty:3070},40:{Dust:9370,Sharpodonty:3150},41:{Dust:9600,Sharpodonty:3230},42:{Dust:9820,Sharpodonty:3300},43:{Dust:10050,Sharpodonty:3370},44:{Dust:10270,Sharpodonty:3450},45:{Dust:10500,Sharpodonty:3520},46:{Dust:10720,Sharpodonty:3600},47:{Dust:10950,Sharpodonty:3670},48:{Dust:11170,Sharpodonty:3750},49:{Dust:11400,Sharpodonty:3820},50:{Dust:11620,Sharpodonty:3900}},Total:{Dust:304900,Sharpodonty:102790}},{Rarity:[2,3],Insight:0,Levels:{2:{Dust:60,Sharpodonty:60},3:{Dust:90,Sharpodonty:70},4:{Dust:120,Sharpodonty:90},5:{Dust:150,Sharpodonty:110},6:{Dust:210,Sharpodonty:130},7:{Dust:240,Sharpodonty:150},8:{Dust:270,Sharpodonty:160},9:{Dust:300,Sharpodonty:180},10:{Dust:330,Sharpodonty:200},11:{Dust:360,Sharpodonty:220},12:{Dust:390,Sharpodonty:240},13:{Dust:420,Sharpodonty:250},14:{Dust:450,Sharpodonty:270},15:{Dust:480,Sharpodonty:290},16:{Dust:510,Sharpodonty:310},17:{Dust:540,Sharpodonty:330},18:{Dust:570,Sharpodonty:340},19:{Dust:600,Sharpodonty:350},20:{Dust:630,Sharpodonty:360},21:{Dust:720,Sharpodonty:400},22:{Dust:780,Sharpodonty:420},23:{Dust:840,Sharpodonty:430},24:{Dust:900,Sharpodonty:450},25:{Dust:960,Sharpodonty:470},26:{Dust:1020,Sharpodonty:490},27:{Dust:1080,Sharpodonty:510},28:{Dust:1140,Sharpodonty:520},29:{Dust:1200,Sharpodonty:540},30:{Dust:1260,Sharpodonty:560}},Total:{Dust:16620,Sharpodonty:8900}},{Rarity:[2,3],Insight:1,Levels:{2:{Dust:240,Sharpodonty:120},3:{Dust:300,Sharpodonty:150},4:{Dust:360,Sharpodonty:180},5:{Dust:420,Sharpodonty:210},6:{Dust:540,Sharpodonty:240},7:{Dust:600,Sharpodonty:270},8:{Dust:660,Sharpodonty:300},9:{Dust:720,Sharpodonty:330},10:{Dust:780,Sharpodonty:360},11:{Dust:900,Sharpodonty:390},12:{Dust:960,Sharpodonty:420},13:{Dust:1020,Sharpodonty:450},14:{Dust:1080,Sharpodonty:480},15:{Dust:1140,Sharpodonty:510},16:{Dust:1260,Sharpodonty:540},17:{Dust:1320,Sharpodonty:570},18:{Dust:1380,Sharpodonty:600},19:{Dust:1440,Sharpodonty:630},20:{Dust:1500,Sharpodonty:660},21:{Dust:1560,Sharpodonty:690},22:{Dust:1620,Sharpodonty:720},23:{Dust:1680,Sharpodonty:750},24:{Dust:1740,Sharpodonty:780},25:{Dust:1800,Sharpodonty:810},26:{Dust:1860,Sharpodonty:840},27:{Dust:1920,Sharpodonty:870},28:{Dust:1980,Sharpodonty:900},29:{Dust:2040,Sharpodonty:930},30:{Dust:2100,Sharpodonty:960},31:{Dust:2220,Sharpodonty:1080},32:{Dust:2280,Sharpodonty:1200},33:{Dust:2340,Sharpodonty:1320},34:{Dust:2400,Sharpodonty:1440},35:{Dust:2460,Sharpodonty:1560},36:{Dust:2520,Sharpodonty:1680},37:{Dust:2580,Sharpodonty:1800},38:{Dust:2700,Sharpodonty:1920},39:{Dust:2760,Sharpodonty:2040},40:{Dust:2820,Sharpodonty:2160}},Total:{Dust:6e4,Sharpodonty:31860}},{Rarity:[2,3],Insight:2,Levels:{2:{Dust:660,Sharpodonty:240},3:{Dust:840,Sharpodonty:300},4:{Dust:1020,Sharpodonty:360},5:{Dust:1200,Sharpodonty:420},6:{Dust:1380,Sharpodonty:480},7:{Dust:1560,Sharpodonty:540},8:{Dust:1740,Sharpodonty:600},9:{Dust:1920,Sharpodonty:660},10:{Dust:2100,Sharpodonty:720},11:{Dust:2280,Sharpodonty:780},12:{Dust:2460,Sharpodonty:840},13:{Dust:2640,Sharpodonty:900},14:{Dust:2820,Sharpodonty:960},15:{Dust:3e3,Sharpodonty:1020},16:{Dust:3180,Sharpodonty:1080},17:{Dust:3360,Sharpodonty:1140},18:{Dust:3540,Sharpodonty:1200},19:{Dust:3720,Sharpodonty:1260},20:{Dust:3900,Sharpodonty:1320},21:{Dust:4080,Sharpodonty:1380},22:{Dust:4260,Sharpodonty:1440},23:{Dust:4440,Sharpodonty:1500},24:{Dust:4620,Sharpodonty:1560},25:{Dust:4800,Sharpodonty:1620},26:{Dust:4980,Sharpodonty:1680},27:{Dust:5160,Sharpodonty:1740},28:{Dust:5340,Sharpodonty:1800},29:{Dust:5520,Sharpodonty:1860},30:{Dust:5700,Sharpodonty:1920},31:{Dust:5880,Sharpodonty:1980},32:{Dust:6060,Sharpodonty:2040},33:{Dust:6240,Sharpodonty:2100},34:{Dust:6420,Sharpodonty:2160},35:{Dust:6600,Sharpodonty:2220},36:{Dust:6780,Sharpodonty:2280},37:{Dust:6960,Sharpodonty:2340},38:{Dust:7140,Sharpodonty:2400},39:{Dust:7320,Sharpodonty:2460},40:{Dust:7500,Sharpodonty:2520},41:{Dust:7680,Sharpodonty:2580},42:{Dust:7860,Sharpodonty:2640},43:{Dust:8040,Sharpodonty:2700},44:{Dust:8220,Sharpodonty:2760},45:{Dust:8400,Sharpodonty:2820},46:{Dust:8580,Sharpodonty:2880},47:{Dust:8760,Sharpodonty:2940},48:{Dust:8940,Sharpodonty:3e3},49:{Dust:9120,Sharpodonty:3060},50:{Dust:9300,Sharpodonty:3120}},Total:{Dust:244020,Sharpodonty:82320}}],X=J,L=N().items,Y=N().arcanists,B={"Base Item":0,"Resonate Material":1,"Insight Material":2,"Build Material":2};function F(t){t.sort((r,h)=>{const n=L.findIndex(i=>i.Name===r.Material),p=L.findIndex(i=>i.Name===h.Material),o=L[n],S=L[p];if(o&&S){const i=B[o.Category],M=B[S.Category];return i!==M?i-M:S.Rarity!==o.Rarity?S.Rarity-o.Rarity:n-p}else return p-n})}function Z(t){const r={};return t.forEach(n=>{n&&(Array.isArray(n)?n.flat().forEach(({Material:o,Quantity:S})=>{r[o]?r[o]+=S:r[o]=S}):typeof n=="object"&&Object.entries(n).forEach(([p,o])=>{r[p]?r[p]+=o:r[p]=o}))}),V().updateNeededRawMaterialsMapping(r),Object.keys(r).map(n=>({Material:n,Quantity:r[n]}))}function tt(t){var n,p;F(t);const r=((n=t.find(o=>o.Material==="Dust"))==null?void 0:n.Quantity)||0,h=((p=t.find(o=>o.Material==="Sharpodonty"))==null?void 0:p.Quantity)||0;return r===0&&h===0?t.filter(S=>S.Material!=="Dust"&&S.Material!=="Sharpodonty"):t}function _t(t){var M,R,I,C,v,x;const r=((M=t.find(l=>l.Material==="Dust"))==null?void 0:M.Quantity)||0,h=((R=t.find(l=>l.Material==="Sharpodonty"))==null?void 0:R.Quantity)||0;if(r===0&&h===0)return t.filter(k=>k.Material!=="Dust"&&k.Material!=="Sharpodonty");const n=((I=t.find(l=>l.Material==="Sinuous Howl"))==null?void 0:I.Quantity)||0,p=((C=t.find(l=>l.Material==="Interlaced Shudder"))==null?void 0:C.Quantity)||0,o=((v=t.find(l=>l.Material==="Hypocritical Murmur"))==null?void 0:v.Quantity)||0,S=((x=t.find(l=>l.Material==="Hoarse Echo"))==null?void 0:x.Quantity)||0;t.push({Material:"Crystal Casket",Quantity:n+p+o+S});const i=t.filter(l=>l.Material!=="Sinuous Howl"&&l.Material!=="Interlaced Shudder"&&l.Material!=="Hypocritical Murmur"&&l.Material!=="Hoarse Echo");return F(i),i}function ot(t){const r=Y.find(a=>a.Id===t.Id),h=a=>{const d={Dust:0,Sharpodonty:0};if(a.currentInsight===a.goalInsight){const{Dust:u,Sharpodonty:y}=M(a.currentLevel,a.goalLevel,a,a.currentInsight);return d.Dust+=u,d.Sharpodonty+=y,d}for(let u=a.currentInsight;u<=a.goalInsight;u++)if(u<a.goalInsight){const y=i(a,u);if(d.Dust+=y.Total.Dust,d.Sharpodonty+=y.Total.Sharpodonty,u===a.currentInsight){const{Dust:s,Sharpodonty:e}=M(1,a.currentLevel,a,u);d.Dust-=s,d.Sharpodonty-=e}}else{const{Dust:y,Sharpodonty:s}=M(1,a.goalLevel,a,u);d.Dust+=y,d.Sharpodonty+=s}return[{Material:"Dust",Quantity:d.Dust},{Material:"Sharpodonty",Quantity:d.Sharpodonty}]},n=(a,d,D)=>{const u={};if(a===d)return null;for(let s=Number(a+1);s<=d;s++){const e=D.find(c=>c.Id===s);e&&e.Material.forEach((c,g)=>{const Q=e.Quantity[g];u[c]?u[c]+=Q:u[c]=Q})}return Object.keys(u).map(s=>({Material:s,Quantity:u[s]}))},p=(a,d)=>{const D={};if(a)return a.forEach(y=>{const s=d.find(e=>e.Type===y.Type&&e.Id===y.Id);s&&s.Material&&Array.isArray(s.Material)&&s.Material.forEach((e,c)=>{const g=s.Quantity[c];D[e]?D[e]+=g:D[e]=g})}),Object.keys(D).map(y=>({Material:y,Quantity:D[y]}))},o=(a,d)=>{const D={};if(d===void 0)return null;if(a)return a.forEach(y=>{const s=d.find(e=>e.Id===y);s&&s.Material&&Array.isArray(s.Material)&&s.Material.forEach((e,c)=>{const g=s.Quantity[c];D[e]?D[e]+=g:D[e]=g})}),Object.keys(D).map(y=>({Material:y,Quantity:D[y]}))},S=(a,d,D)=>{const u={};if(D===void 0||a===d)return null;for(let s=Number(a+1);s<=d;s++){const e=D.find(c=>c.Id===s);e&&e.Material.forEach((c,g)=>{const Q=e.Quantity[g];u[c]?u[c]+=Q:u[c]=Q})}return Object.keys(u).map(s=>({Material:s,Quantity:u[s]}))},i=(a,d)=>X.find(u=>u.Rarity.includes(r.Rarity)&&u.Insight===d),M=(a,d,D,u)=>{const y={Dust:0,Sharpodonty:0};for(let s=Number(++a);s<=Number(d);s++){const e=i(D,u),c=s.toString(),g=e.Levels[c];g&&(y.Dust+=g.Dust,y.Sharpodonty+=g.Sharpodonty)}return y},R=n(t.currentInsight,t.goalInsight,r.Insight),I=n(t.currentResonance,t.goalResonance,r.Resonance),C=p(t.frequency,r.Frequency),v=o(t.euphoria,r.Euphoria),x=S(t.currentMastery,t.goalMastery,r.Mastery),l=h(t),k=Z([R,I,C,v,x,l]);return tt(k)}const st={class:"btn btn-sm btn-ghost gradient-blue w-20"},at={key:0},nt=_("i",{class:"fa-regular fa-circle text-white"},null,-1),rt=[nt],ut={key:1},dt=["src","alt"],et={class:"grid grid-cols-5 gap-2"},yt=["onClick"],ht={class:"flex items-center justify-center font-semibold rounded-full w-8 h-8 leading-none flex-col bg-blue-500 text-white"},pt={key:0},St=_("i",{class:"fa-regular fa-circle text-white"},null,-1),Dt=[St],lt={key:1},it=["src","alt"],Rt=E({__name:"SelectList",props:{label:{type:String,required:!0},options:{type:Array,required:!0},selected:{type:Number}},emits:["update:selected"],setup(t,{emit:r}){const h=t,n=r,p=w(!1),o=w(h.selected),S=w(null),i=()=>{p.value=!1},M=I=>{o.value=I,n("update:selected",I,h.label),p.value=!1},R=I=>`images/items/common/insight${I}.webp`;return G(S,i),P(()=>{h.selected===void 0?(o.value=h.options[0],n("update:selected",h.options[0],h.label)):(o.value=h.selected,n("update:selected",h.selected,h.label))}),(I,C)=>(f(),O(z(K),{arrow:"",placement:"top",offsetDistance:"2"},{content:T(()=>[_("div",et,[(f(!0),m(b,null,j(t.options,v=>(f(),m("button",{key:v,class:"",onClick:x=>M(v)},[_("div",ht,[t.label==="Current Insight"||t.label==="Goal Insight"?(f(),m(b,{key:0},[v===0?(f(),m("div",pt,Dt)):(f(),m("div",lt,[_("img",{class:"avatar w-6",src:R(v),alt:"Option "+v},null,8,it)]))],64)):(f(),m(b,{key:1},[H(A(v),1)],64))])],8,yt))),128))])]),default:T(()=>[_("button",st,[t.label==="Current Insight"||t.label==="Goal Insight"?(f(),m(b,{key:0},[o.value===0?(f(),m("div",at,rt)):(f(),m("div",ut,[_("img",{class:"avatar w-6",src:R(o.value),alt:"Option "+o.value},null,8,dt)]))],64)):(f(),m(b,{key:1},[H(A(o.value),1)],64))])]),_:1}))}}),ct={class:"mt-2 flex flex-wrap justify-center"},ft=E({__name:"ItemList",props:{materialList:{type:Array,required:!0},layout:{type:String,default:"fixed",validator:t=>["fill","fixed"].includes(t)}},setup(t){const r=t,h=$(()=>r.layout==="fill"?"h-full":r.layout==="fixed"?"h-64":""),n=w(!1),p=o=>{const S=o.target;n.value=S.scrollHeight-S.scrollTop<=S.clientHeight+80};return(o,S)=>(f(),m("div",{class:q([h.value,"relative flex-grow flex flex-col min-h-0"])},[_("div",{class:"flex-grow overflow-y-auto overflow-x-hidden pb-20",onScroll:p},[_("div",ct,[(f(!0),m(b,null,j(r.materialList,i=>(f(),O(W,{key:i.Material,material:i},null,8,["material"]))),128))])],32),_("div",{class:q(["scroll-fade",{"opacity-0":n.value}])},null,2)],2))}}),bt=E({__name:"CalculateItemList",props:{arcanist:{type:Object,required:!0}},setup(t){const r=t,h=$(()=>{const n=r.arcanist;return ot(n).filter(o=>o.Quantity!==0)});return(n,p)=>(f(),O(ft,U({materialList:h.value},n.$attrs),null,16,["materialList"]))}});export{It as C,Rt as _,bt as a,_t as f,J as l,Z as m,ot as u};
