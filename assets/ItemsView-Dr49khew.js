import{d as I,s as w,o as i,c as d,a as e,D,E as L,i as y,b as A,j as q,t as _,q as k,B as b,f as F,u as V,l as $,F as x,r as M,g as C,C as N,x as z,y as O,w as S,G as P,H as Q,_ as E}from"./index-CAapuMSa.js";import{b as G,_ as T,f as H,s as j}from"./MaterialIcon.vue_vue_type_script_setup_true_lang-DKHtVvMC.js";import{c as U}from"./images-DWzlI4jH.js";import{f as B}from"./arcanists-CoBizLBM.js";import{_ as J}from"./ArcanistIconDisplay.vue_vue_type_script_setup_true_lang-DSwoo1I4.js";import{n as K}from"./stages-DsSimfpR.js";import{t as W}from"./tippy-CUgr99gp.js";const X=["data-tip"],Y={class:"transform transition-transform duration-500 overflow-hidden relative"},Z=["src"],ee=["src"],te=e("div",{class:"overlay absolute inset-0 bg-gray-500 opacity-0 group-hover:opacity-50 transition-opacity duration-300"},null,-1),se=I({__name:"MaterialSelectionIcon",props:{material:{type:Object,required:!0}},setup(m){const t=m,g=w(()=>G(t.material));return(h,p)=>(i(),d("div",{class:"tooltip relative overflow-hidden group cursor-pointer","data-tip":h.$t(g.value.material)},[e("div",Y,[e("img",{src:g.value.itemImagePath,alt:"Material Image",class:"w-20 h-20 absolute transform transition-transform duration-300 group-hover:scale-125"},null,8,Z),e("img",{src:g.value.borderImagePath,alt:"Border Image",class:"w-20 h-20"},null,8,ee),te])],8,X))}}),ae=["src"],re={class:"absolute text-white bottom-0.5 right-0.5 rounded bg-gray-700 rounded-tl px-1 py-px text-xs max-w-[7.775rem] lg:max-w-[9.775rem] whitespace-nowrap overflow-hidden overflow-ellipsis"},le={class:"absolute text-white top-0.5 left-0.5 bg-gray-700 rounded px-1 py-px text-xs"},oe=I({__name:"StageIcon",props:{selectedStage:{type:Object,required:!0},stageName:{type:String,required:!0},dropRate:{type:String,required:!0}},setup(m){const t=m,g=D(),h=L(),p=y(null),{t:u}=A(),c=()=>K(t.selectedStage,t.stageName),v=()=>{g.setSelectedStage(t.selectedStage),h.push("/stages")};return q(()=>{W(p.value,{content:u(c().stage),theme:"daisyui"})}),(l,o)=>(i(),d("div",{onClick:v,class:"cursor-pointer"},[e("div",{ref_key:"tooltip",ref:p,class:"relative inline-block"},[e("img",{src:c().stageImagePath,alt:"Border Image",class:"w-32 lg:w-40 rounded"},null,8,ae),e("div",re,_(l.$t(c().stage)),1),e("div",le,_(m.dropRate),1)],512)]))}}),ie={key:0,class:"custom-box custom-border"},ce={class:"space-y-1"},ne={class:"text-white text-2xl font-bold py-1"},de=e("i",{class:"fa-solid fa-star"},null,-1),ue={class:"flex flex-col justify-center items-center"},me=["src"],pe={class:"text-white text-center"},fe={key:1,class:"custom-box custom-border space-y-2.5"},ge={class:"text-white"},he={class:"flex flex-wrap gap-x-2 gap-y-1 items-center justify-center"},_e={key:2,class:"custom-box custom-border space-y-2.5"},ve={class:"text-white"},ye={class:"custom-item-list max-h-[calc(33vh)]"},xe={key:3,class:"custom-box custom-border space-y-2.5"},be={class:"text-white"},Me={class:"custom-item-list gap-x-2 gap-y-1 max-h-[calc(33vh)]"},$e=I({__name:"MaterialDisplay",props:{selectedMaterial:{type:Object,required:!0},categories:{type:Array,required:!0}},setup(m){const t=m,g=k().formulas,h=k().arcanists,p=k().stages2_2_greedy,u=w(()=>{const l=g.find(o=>o.Name===t.selectedMaterial.Name);return l?l.Material.map((o,a)=>({Material:o,Quantity:l.Quantity[a]})):[]}),c=w(()=>{if(t.selectedMaterial.Name==="Dust")return B(h);let l=h.filter(o=>o.Insight.some(a=>a.Material.includes(t.selectedMaterial.Name))||o.Resonance.some(a=>a.Material.includes(t.selectedMaterial.Name)));return l=B(l),l}),v=w(()=>Object.entries(p).filter(([,o])=>t.selectedMaterial.Name in o.drops).map(([o,a])=>({name:o,stage:a,dropRate:a.drops[t.selectedMaterial.Name]/a.count})).sort((o,a)=>a.dropRate-o.dropRate).map(o=>({...o,dropRate:H(o.dropRate)})));return(l,o)=>(i(),d(x,null,[t.selectedMaterial?(i(),d("div",ie,[e("div",ce,[e("h2",ne,_(l.$t(t.selectedMaterial.Name)),1),e("p",{class:b(["",{"text-error":t.selectedMaterial.Category===m.categories[0],"text-info":t.selectedMaterial.Category===m.categories[1],"text-success":t.selectedMaterial.Category===m.categories[2],"text-warning":t.selectedMaterial.Category===m.categories[3],"text-secondary":t.selectedMaterial.Category===m.categories[4],"text-green-300":t.selectedMaterial.Category===m.categories[5]}])},_(l.$t(t.selectedMaterial.Category)),3),e("p",{class:b(["",{"text-orange-300":t.selectedMaterial.Rarity===6,"text-yellow-100":t.selectedMaterial.Rarity===5,"text-purple-400":t.selectedMaterial.Rarity===4,"text-sky-200":t.selectedMaterial.Rarity===3,"text-green-200":t.selectedMaterial.Rarity===2}])},[F(_(t.selectedMaterial.Rarity)+" ",1),de],2),e("div",ue,[e("img",{src:V(U)(t.selectedMaterial.Name),alt:"Material Image",class:"w-32 h-32"},null,8,me),e("p",pe,_(t.selectedMaterial.Description),1)])])])):$("",!0),u.value.length>0?(i(),d("div",fe,[e("h2",ge,_(l.$t("wishing-spring-formula")),1),e("div",he,[(i(!0),d(x,null,M(u.value,a=>(i(),d("div",{key:a.Material,class:"flex flex-wrap gap-x-2 gap-y-2"},[C(T,{material:a},null,8,["material"])]))),128))])])):$("",!0),v.value.length>0?(i(),d("div",_e,[e("h2",ve,_(l.$t("obtained-from-the-following-stages")),1),e("div",ye,[(i(!0),d(x,null,M(v.value,a=>(i(),N(oe,{key:a.name,selectedStage:a.stage,stageName:a.name,dropRate:a.dropRate,class:"px-2 py-1"},null,8,["selectedStage","stageName","dropRate"]))),128))])])):$("",!0),c.value.length>0?(i(),d("div",xe,[e("h2",be,_(l.$t("used-by-the-following-arcanists")),1),e("div",Me,[(i(!0),d(x,null,M(c.value,a=>(i(),N(J,{key:a.Name,arcanist:a},null,8,["arcanist"]))),128))])])):$("",!0)],64))}}),we={class:"flex gap-y-2 items-center"},Ie=["placeholder"],ke=["data-tip"],Ce=e("button",{class:"btn btn-ghost text-white"},[e("i",{class:"fa-solid fa-filter"})],-1),Ne=[Ce],Re={class:"flex justify-center space-x-2 pb-2"},Se=["onClick"],je={class:"flex flex-col justify-center flex-wrap gap-x-2 gap-y-1"},Be={class:"grid grid-cols-2 gap-x-2 gap-y-1"},De=["onClick"],qe=I({__name:"MaterialFilter",props:{listItems:{type:Array,required:!0},categories:{type:Array,required:!0}},emits:["filtered"],setup(m,{emit:t}){const g=m,h=t,p=y(""),u=y([]),c=y([]),v=s=>{u.value.includes(s)?u.value=u.value.filter(n=>n!==s):u.value.push(s)},l=s=>{c.value.includes(s)?c.value=c.value.filter(n=>n!==s):c.value.push(s)},o=w(()=>{let s=g.listItems;return p.value.length>0&&(s=s.filter(n=>n.Name.toLowerCase().includes(p.value.toLowerCase()))),u.value.length>0&&(s=s.filter(n=>u.value.includes(n.Rarity))),c.value.length>0&&(s=s.filter(n=>c.value.includes(n.Category))),s}),a=()=>{h("filtered",o.value)};return(s,n)=>(i(),d("div",we,[z(e("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>p.value=r),type:"text",placeholder:s.$t("search-by-name"),onInput:a,class:"input input-sm lg:w-auto bg-gray-800 text-white p-2 rounded-md focus:outline-none"},null,40,Ie),[[O,p.value]]),C(V(P),{arrow:"",placement:"bottom",offsetDistance:"2"},{content:S(()=>[e("div",Re,[(i(),d(x,null,M([2,3,4,5,6],r=>e("button",{key:r,class:b([{"border-2 border-info":u.value.includes(r),"border-2 border-transparent":!u.value.includes(r)},"p-2 rounded-md"]),onClick:f=>{v(r),a()}},[e("i",{class:b(["fa-solid fa-star",{"text-orange-300":r===6,"text-yellow-100":r===5,"text-purple-400":r===4,"text-sky-200":r===3,"text-green-200":r===2}])},null,2)],10,Se)),64))]),e("div",je,[e("div",Be,[(i(!0),d(x,null,M(m.categories,(r,f)=>(i(),d("button",{key:r,class:b([[{"border-2 border-info":c.value.includes(r),"border-2 border-transparent":!c.value.includes(r)},{"text-error":f===0,"text-info":f===1,"text-success":f===2,"text-warning":f===3,"text-secondary":f===4,"text-green-300":f===5}],"p-2 rounded-md text-sm"]),onClick:R=>{l(r),a()}},_(s.$t(r)),11,De))),128))])])]),default:S(()=>[e("div",{class:"tooltip","data-tip":s.$t("filter")},Ne,8,ke)]),_:1})]))}}),Ve={class:"container"},Le={class:"flex pb-4"},Ae={class:"text-2xl text-white font-bold"},Fe={class:"flex flex-col gap-y-4 lg:grid lg:grid-cols-2 lg:gap-4"},ze={class:"flex flex-col gap-y-4"},Oe={class:"card custom-border"},Pe={class:"flex flex-wrap justify-center sm:justify-between pl-2 gap-y-2"},Qe={class:"flex flex-wrap justify-center space-x-2 gap-y-2 py-1.5"},Ee=["onClick","disabled"],Ge={class:"card custom-border h-[calc(40vh)] lg:h-[calc(66vh)]"},Te={key:0,class:"custom-item-list"},He={class:"flex flex-col gap-y-4"},Ue=I({__name:"ItemsView",setup(m){const t=["Base Item","Build Material","Insight Material","Resonate Material","Ascension Material","Reveries Material"],g=["Materials"],h=y(g[0]),p=k().items,u=y([]),c=y([]),v=D(),l=y(),o=s=>{l.value=s},a=s=>{c.value=s};return Q(()=>{const s=p.find(n=>n.Name===v.selectedMaterial.Material);l.value=s||p.find(n=>n.Name==="Crystal Drop"),u.value=p.filter(n=>n.IsReleased),j(u.value,t)}),q(()=>{c.value=p.filter(s=>s.IsReleased),j(c.value,t)}),(s,n)=>(i(),d("div",Ve,[e("div",Le,[e("h2",Ae,_(s.$t("items")),1)]),e("div",Fe,[e("div",ze,[e("div",Oe,[e("div",Pe,[e("div",Qe,[(i(),d(x,null,M(g,(r,f)=>e("button",{key:f,onClick:R=>h.value=r,class:b(["hover:bg-info rounded-md text-white py-1 px-3",h.value===r?"border-button":""]),disabled:f!==0},_(s.$t(r)),11,Ee)),64))]),C(qe,{listItems:u.value,categories:t,onFiltered:a},null,8,["listItems"])])]),e("div",Ge,[h.value==="Materials"?(i(),d("div",Te,[(i(!0),d(x,null,M(c.value,r=>{var f;return i(),N(se,{key:r.Id,material:r,onClick:R=>o(r),class:b(((f=l.value)==null?void 0:f.Name)===r.Name?"custom-border-white":"custom-border-transparent")},null,8,["material","onClick","class"])}),128))])):$("",!0)])]),e("div",He,[C($e,{selectedMaterial:l.value||{},categories:t},null,8,["selectedMaterial"])])])]))}}),tt=E(Ue,[["__scopeId","data-v-f75b92c8"]]);export{tt as default};
