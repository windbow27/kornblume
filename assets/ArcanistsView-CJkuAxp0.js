import{d as S,e as j,o as c,c as d,a as s,u as i,g as P,w as V,t as m,l as M,p as O,n as q,_ as D,b as F,q as z,i as p,s as N,j as E,v as C,x,y as Q,z as I,F as b,r as w,A as f,B as g,C as T}from"./index-9-xQ3jC1.js";import{f as G}from"./arcanists-DklIw7au.js";import{g as H,a as J,b as K}from"./images-BWkGmkrk.js";const W=l=>(O("data-v-7059b808"),l=l(),q(),l),X={class:"p-2.5 relative overflow-hidden group"},Y={class:"transform transition-transform duration-500 overflow-hidden"},Z=["src","alt"],ee=W(()=>s("div",{class:"overlay absolute inset-0 bg-gray-500 opacity-0 group-hover:opacity-50 transition-opacity duration-300"},null,-1)),te={key:0,class:"absolute top-0.5 right-1.5 w-auto px-1 text-center text-sm font-bold text-white/90 bg-opacity-50 rounded-md bg-black"},se=["src"],ae=["src"],oe={class:"absolute bottom-0 w-16 sm:w-20 text-center text-white/90 py-2.5 text-shadow font-bold opacity-95"},ne=S({__name:"ArcanistPortrait",props:{arcanist:{type:Object,required:!0},count:{type:Number,required:!0}},setup(l){const o=l;return(v,y)=>{const _=j("i18n-t");return c(),d("div",X,[s("div",Y,[s("img",{class:"w-16 sm:w-20 rounded-b-full scale-[1.025] transform transition-transform duration-300 group-hover:scale-125",src:i(H)(o.arcanist.Id),alt:o.arcanist.Name},null,8,Z),ee,l.count>=0?(c(),d("span",te,[P(_,{keypath:"P{portrait}"},{portrait:V(()=>[s("span",null,m(o.count),1)]),_:1})])):M("",!0),s("img",{class:"absolute top-0 left-0 w-4 opacity-90",src:i(J)(o.arcanist.Afflatus),alt:""},null,8,se),s("img",{class:"absolute bottom-0 w-16 sm:w-20 rounded-md",src:i(K)(o.arcanist.Rarity),alt:""},null,8,ae),s("span",oe,m(v.$t(o.arcanist.Name)),1)])])}}}),re=D(ne,[["__scopeId","data-v-7059b808"]]),le={class:"container"},ce={class:"flex pb-4"},ie={class:"text-2xl text-white font-bold"},ue={class:"flex flex-wrap p-4 gap-x-4 justify-between items-center"},de={class:"flex flex-wrap gap-x-10 justify-center"},pe=["placeholder"],fe={class:"form-control"},me={class:"cursor-pointer label justify-center space-x-5"},_e={class:"label-text text-white text-md"},he={class:"form-control"},ve={class:"cursor-pointer label justify-center space-x-5"},xe={class:"label-text text-white text-md"},be={class:"flex flex-wrap gap-x-10 justify-center"},we={class:"flex justify-center space-x-2"},ge=["onClick"],ye={class:"flex justify-center space-x-2"},Ae=["onClick"],ke=["src"],$e={class:"flex flex-wrap items-center justify-center"},Se=S({__name:"ArcanistsView",setup(l){const{locale:o,t:v}=F(),y=z().arcanists,_=p(y),h=p(""),A=p([]),n=p([]),r=p([]),B=e=>{n.value.includes(e)?n.value=n.value.filter(a=>a!==e):n.value.push(e)},U=e=>{r.value.includes(e)?r.value=r.value.filter(a=>a!==e):r.value.push(e)},k=N(()=>_.value.map(e=>({ArcanistName:e.Name,count:A.value.filter(a=>a.ArcanistName===e.Name).length-1}))),R=N(()=>{let e=_.value;return o.value==="en-US"?e=e.filter(a=>a.Name.toLowerCase().includes(h.value.toLowerCase())):e=e.filter(a=>v(a.Name).includes(h.value)),n.value.length>0&&(e=e.filter(a=>n.value.includes(a.Rarity))),r.value.length>0&&(e=e.filter(a=>r.value.includes(a.Afflatus))),f().settings.showOwnedArcanists&&(e=e.filter(a=>{var t;return(((t=k.value.find(u=>u.ArcanistName===a.Name))==null?void 0:t.count)??-1)>=0})),e=G(e),e});return E(()=>{C().data.length>0&&(A.value=[...C().data])}),(e,a)=>{const $=j("router-link");return c(),d("div",le,[s("div",ce,[s("h2",ie,m(e.$t("arcanists")),1)]),s("div",ue,[s("div",de,[x(s("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>h.value=t),type:"text",placeholder:e.$t("search-arcanists"),class:"input input-sm w-full sm:w-auto bg-gray-800 text-white py-2 px-4 rounded-md focus:outline-none"},null,8,pe),[[Q,h.value]]),s("div",fe,[s("label",me,[s("span",_e,m(e.$t("show-unreleased-arcanists")),1),x(s("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>i(f)().settings.showUnreleasedArcanists=t),type:"checkbox",class:"checkbox checkbox-info"},null,512),[[I,i(f)().settings.showUnreleasedArcanists]])])]),s("div",he,[s("label",ve,[s("span",xe,m(e.$t("show-owned-arcanists")),1),x(s("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>i(f)().settings.showOwnedArcanists=t),type:"checkbox",class:"checkbox checkbox-info"},null,512),[[I,i(f)().settings.showOwnedArcanists]])])])]),s("div",be,[s("div",we,[(c(),d(b,null,w([2,3,4,5,6],t=>s("button",{key:t,class:g([{"border-2 border-info":n.value.includes(t),"border-2 border-transparent":!n.value.includes(t)},"p-2 rounded-md"]),onClick:u=>B(t)},[s("i",{class:g(["fa-solid fa-star",{"text-orange-300":t===6,"text-yellow-100":t===5,"text-purple-400":t===4,"text-sky-200":t===3,"text-green-200":t===2}])},null,2)],10,ge)),64))]),s("div",ye,[(c(),d(b,null,w(["Beast","Mineral","Plant","Star","Intellect","Spirit"],t=>s("button",{key:t,class:g([{"border-2 border-info":r.value.includes(t),"border-2 border-transparent":!r.value.includes(t)},"p-2 rounded-md"]),onClick:u=>U(t)},[s("img",{class:"w-4",src:`images/arcanists/misc/${t.toLowerCase()}.webp`,alt:""},null,8,ke)],10,Ae)),64))])])]),s("div",$e,[(c(!0),d(b,null,w(R.value,t=>(c(),T($,{key:t.Id,to:`/arcanist-${t.Id}`},{default:V(()=>{var u;return[P(re,{arcanist:t,count:((u=k.value.find(L=>L.ArcanistName===t.Name))==null?void 0:u.count)??-1},null,8,["arcanist","count"])]}),_:2},1032,["to"]))),128))])])}}});export{Se as default};
