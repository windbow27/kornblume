import{d as u,e as m,c as h,a as e,o as b}from"./index-o5-MpCq3.js";function f(){const l={plannerSettings:localStorage.getItem("plannerSettings"),planner:localStorage.getItem("planner"),wilderness:localStorage.getItem("wilderness"),warehouse:localStorage.getItem("warehouse")},n=JSON.stringify(l,null,2),r=new Blob([n],{type:"application/json"}),t=new Date,c=t.getDate().toString().padStart(2,"0"),i=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getFullYear(),s=`${c}${i}${o}`,d=t.getHours().toString().padStart(2,"0"),p=t.getMinutes().toString().padStart(2,"0"),g=`${d}${p}`,a=document.createElement("a");a.href=URL.createObjectURL(r),a.download=`kornblume_data_${s}_${g}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a)}function _(l){const n=new FileReader;n.onload=async r=>{try{const t=JSON.parse(r.target.result);localStorage.setItem("plannerSettings",t.plannerSettings),localStorage.setItem("planner",t.planner),localStorage.setItem("wilderness",t.wilderness),localStorage.setItem("warehouse",t.warehouse),console.log("Import successful!"),window.location.reload()}catch(t){console.error("Error importing data:",t)}},n.readAsText(l)}const y={class:"responsive-spacer"},S=e("h2",{class:"text-2xl text-white font-bold mb-4 lg:mb-6"},"Profile",-1),x=e("p",{class:"text-white"}," You can export or import your data here.",-1),w={class:"flex justify-center items-center p-2"},I=e("h2",{class:"text-2xl text-white font-bold my-4 lg:my-6"},"Danger Zone",-1),k=e("p",{class:"text-white"},"If you encounter any unexpected issues with the site, you can reset your data. Sorry for the inconvenience.",-1),v=e("div",{class:"flex justify-center items-center p-2"},[e("button",{onclick:"my_modal_2.showModal()",class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2"}," Reset Data ")],-1),D=e("p",{class:"pb-4 text-white text-center"},"Once you delete your data, there is no going back.",-1),j=e("p",{class:"pb-4 text-white text-center"},"Please be certain.",-1),C=e("form",{method:"dialog",class:"modal-backdrop"},[e("button",null,"close")],-1),E=u({__name:"ProfileView",setup(l){const n=m(null),r=()=>{f()},t=()=>{var o;(o=n.value)==null||o.click()},c=o=>{const s=o.target.files[0];s&&_(s)},i=()=>{["plannerSettings","planner","wilderness","warehouse"].forEach(s=>localStorage.removeItem(s)),window.location.reload()};return(o,s)=>(b(),h("div",y,[S,x,e("div",w,[e("button",{onClick:r,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Export Data "),e("input",{type:"file",ref_key:"fileInput",ref:n,onChange:c,accept:".json",class:"ml-4",style:{display:"none"}},null,544),e("button",{onClick:t,class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded ml-2"}," Import Data ")]),I,k,v,e("dialog",{id:"my_modal_2",class:"modal"},[e("div",{class:"modal-box custom-gradient-gray-blue flex flex-col justify-center items-center"},[D,j,e("button",{onClick:i,class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2"}," Reset ")]),C])]))}});export{E as default};
