import{d as j,e as P,o as c,c as _,a as e,u as i,g as V,w as U,t as h,l as R,p as O,n as q,_ as F,b as z,q as E,i as p,s as C,k as H,v as I,x,y as Q,z as T,A as S,F as g,r as y,B as m,C as A,D as Z}from"./index-B5GkbmVo.js";import{f as G}from"./arcanists-Y8WXHUBU.js";import{g as J,a as K,b as W}from"./images-DRVyVlxh.js";const X=r=>(O("data-v-7059b808"),r=r(),q(),r),Y={class:"p-2.5 relative overflow-hidden group"},ee={class:"transform transition-transform duration-500 overflow-hidden"},te=["src","alt"],se=X(()=>e("div",{class:"overlay absolute inset-0 bg-gray-500 opacity-0 group-hover:opacity-50 transition-opacity duration-300"},null,-1)),oe={key:0,class:"absolute top-0.5 right-1.5 w-auto px-1 text-center text-sm font-bold text-white/90 bg-opacity-50 rounded-md bg-black"},ae=["src"],ne=["src"],le={class:"absolute bottom-0 w-16 sm:w-20 text-center text-white/90 py-2.5 text-shadow font-bold opacity-95"},re=j({__name:"ArcanistPortrait",props:{arcanist:{type:Object,required:!0},count:{type:Number,required:!0}},setup(r){const a=r;return(b,k)=>{const f=P("i18n-t");return c(),_("div",Y,[e("div",ee,[e("img",{class:"w-16 sm:w-20 rounded-b-full scale-[1.025] transform transition-transform duration-300 group-hover:scale-125",src:i(J)(a.arcanist.Id),alt:a.arcanist.Name},null,8,te),se,r.count>=0?(c(),_("span",oe,[V(f,{keypath:"P{portrait}"},{portrait:U(()=>[e("span",null,h(a.count),1)]),_:1})])):R("",!0),e("img",{class:"absolute top-0 left-0 w-4 opacity-90",src:i(K)(a.arcanist.Afflatus),alt:""},null,8,ae),e("img",{class:"absolute bottom-0 w-16 sm:w-20 rounded-md",src:i(W)(a.arcanist.Rarity),alt:""},null,8,ne),e("span",le,h(b.$t(a.arcanist.Name)),1)])])}}}),ce=F(re,[["__scopeId","data-v-7059b808"]]),ie={class:"container"},de={class:"flex pb-4"},ue={class:"text-2xl text-white font-bold"},pe={class:"flex flex-wrap p-4 gap-x-4 justify-between items-center"},_e={class:"flex justify-center"},me={class:"flex items-center gap-x-4"},he={class:"form-control"},fe={class:"cursor-pointer label justify-center space-x-2"},ve=e("span",{class:"label-text text-white text-md"},"Sort by:",-1),xe=e("option",{value:"id"},"ID (High → Low)",-1),be=e("option",{value:"name"},"Name (A → Z)",-1),we=[xe,be],ge=["placeholder"],ye={class:"flex flex-wrap gap-x-10 justify-center"},Ae={class:"form-control"},ke={class:"cursor-pointer label justify-center space-x-5"},Ne={class:"label-text text-white text-md"},$e={class:"form-control"},Ce={class:"cursor-pointer label justify-center space-x-5"},Ie={class:"label-text text-white text-md"},Se={class:"flex flex-wrap gap-x-10 justify-center"},je={class:"flex justify-center space-x-2"},Pe=["onClick"],Ve={class:"flex justify-center space-x-2"},Ue=["onClick"],Be=["src"],Me={class:"flex flex-wrap items-center justify-center"},Oe=j({__name:"ArcanistsView",setup(r){const{locale:a,t:b}=z(),k=E().arcanists,f=p(k),w=p("id"),v=p(""),N=p([]),n=p([]),l=p([]),B=t=>{n.value.includes(t)?n.value=n.value.filter(o=>o!==t):n.value.push(t)},M=t=>{l.value.includes(t)?l.value=l.value.filter(o=>o!==t):l.value.push(t)},$=C(()=>f.value.map(t=>({ArcanistName:t.Name,count:N.value.filter(o=>o.ArcanistName===t.Name).length-1}))),D=C(()=>{let t=f.value;return a.value==="en-US"?t=t.filter(o=>o.Name.toLowerCase().includes(v.value.toLowerCase())):t=t.filter(o=>b(o.Name).includes(v.value)),n.value.length>0&&(t=t.filter(o=>n.value.includes(o.Rarity))),l.value.length>0&&(t=t.filter(o=>l.value.includes(o.Afflatus))),m().settings.showOwnedArcanists&&(t=t.filter(o=>{var s;return(((s=$.value.find(u=>u.ArcanistName===o.Name))==null?void 0:s.count)??-1)>=0})),t=G(t),w.value==="id"?t=[...t].sort((o,d)=>d.Id-o.Id):t=[...t].sort((o,d)=>o.Name.localeCompare(d.Name)),t});return H(()=>{I().data.length>0&&(N.value=[...I().data])}),(t,o)=>{const d=P("router-link");return c(),_("div",ie,[e("div",de,[e("h2",ue,h(t.$t("arcanists")),1)]),e("div",pe,[e("div",_e,[e("div",me,[e("div",he,[e("label",fe,[ve,x(e("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>w.value=s),class:"select select-sm bg-gray-800 text-white"},we,512),[[Q,w.value]])])]),x(e("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>v.value=s),type:"text",placeholder:t.$t("search-arcanists"),class:"input input-sm w-full sm:w-auto bg-gray-800 text-white py-2 px-4 rounded-md focus:outline-none"},null,8,ge),[[T,v.value]])])]),e("div",ye,[e("div",Ae,[e("label",ke,[e("span",Ne,h(t.$t("show-unreleased-arcanists")),1),x(e("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>i(m)().settings.showUnreleasedArcanists=s),type:"checkbox",class:"checkbox checkbox-info"},null,512),[[S,i(m)().settings.showUnreleasedArcanists]])])]),e("div",$e,[e("label",Ce,[e("span",Ie,h(t.$t("show-owned-arcanists")),1),x(e("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>i(m)().settings.showOwnedArcanists=s),type:"checkbox",class:"checkbox checkbox-info"},null,512),[[S,i(m)().settings.showOwnedArcanists]])])])]),e("div",Se,[e("div",je,[(c(),_(g,null,y([2,3,4,5,6],s=>e("button",{key:s,class:A([{"border-2 border-info":n.value.includes(s),"border-2 border-transparent":!n.value.includes(s)},"p-2 rounded-md"]),onClick:u=>B(s)},[e("i",{class:A(["fa-solid fa-star",{"text-orange-300":s===6,"text-yellow-100":s===5,"text-purple-400":s===4,"text-sky-200":s===3,"text-green-200":s===2}])},null,2)],10,Pe)),64))]),e("div",Ve,[(c(),_(g,null,y(["Beast","Mineral","Plant","Star","Intellect","Spirit"],s=>e("button",{key:s,class:A([{"border-2 border-info":l.value.includes(s),"border-2 border-transparent":!l.value.includes(s)},"p-2 rounded-md"]),onClick:u=>M(s)},[e("img",{class:"w-4",src:`images/arcanists/misc/${s.toLowerCase()}.webp`,alt:""},null,8,Be)],10,Ue)),64))])])]),e("div",Me,[(c(!0),_(g,null,y(D.value,s=>(c(),Z(d,{key:s.Id,to:`/arcanist-${s.Id}`},{default:U(()=>{var u;return[V(ce,{arcanist:s,count:((u=$.value.find(L=>L.ArcanistName===s.Name))==null?void 0:u.count)??-1},null,8,["arcanist","count"])]}),_:2},1032,["to"]))),128))])])}}});export{Oe as default};
